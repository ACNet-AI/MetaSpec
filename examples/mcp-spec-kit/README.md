# MCP-Spec-Kit Example

> This example demonstrates how to use **Meta-Spec** to generate a complete MCP spec-driven development system.

---

## 📖 Overview

**MCP-Spec-Kit** is a spec-driven development tool generated by Meta-Spec, specifically designed for MCP (Model Context Protocol) server development.

### Core Features

1. **Intent-Driven** - Define Why and What first, then decide How
2. **AI-First** - Development workflow optimized for AI Agents (Claude, Copilot)
3. **Protocol Compliant** - Automatic validation of MCP protocol compliance
4. **Complete Workflow** - Full support from specification to deployment

---

## 🎯 Design Philosophy

### Inspired by Spec-Kit

```
Spec-Kit (Generic):
  Spec → Plan → Tasks → Implementation

MCP-Spec-Kit (MCP-Specific):
  MCP Requirements → MCP Design → MCP Validation → MCP Server
```

### Generates an "AI Work Environment"

```
Not: CLI tool + code generator
But: Complete AI Agent work environment
├── memory/constitution.md          # MCP development principles
├── specs/                          # AI work outputs
├── templates/                      # MCP templates
├── scripts/validate-mcp.sh         # Validation scripts
└── AGENTS.md                       # AI operation guide
```

---

## 📋 Generate Using Meta-Spec

### 1. Define System (meta.yaml)

See the `meta.yaml` file in this directory. Key parts:

```yaml
meta:
  name: "mcp-spec-kit"
  
  # Intent-driven
  intent:
    purpose: "Standardize MCP development"
    users: ["MCP developers", "AI agents"]
    goals:
      - "Reduce development time"
      - "Ensure protocol compliance"
  
  # AI support
  ai_support:
    enabled: true
    constitution:
      enabled: true
      inherit_from: "meta-spec"
      domain_rules:
        - "Must validate against MCP protocol"
        - "Must include manifest.json"

# MCP entities
entities:
  - MCPServer
  - Tool
  - Resource
  - Prompt

# MCP pipeline
pipeline:
  - understand
  - design
  - validate
  - generate
  - test
```

### 2. Generate System

```bash
# Use Meta-Spec to generate MCP-Spec-Kit
metaspec generate meta.yaml --output ./mcp-spec-kit

# Output structure
./mcp-spec-kit/
├── memory/
│   ├── constitution.md             # MCP development constitution
│   └── mcp-best-practices.md       # Best practices
├── specs/                          # Empty directory for AI to populate
├── templates/
│   ├── mcp-server-template.yaml
│   ├── spec-template.md
│   └── plan-template.md
├── scripts/
│   ├── validate-mcp-protocol.sh
│   └── test-with-inspector.sh
├── AGENTS.md                       # AI Agent guide
├── CLAUDE.md                       # Claude-specific
└── README.md
```

### 3. Use Generated System

```bash
cd mcp-spec-kit

# AI Agent (Claude) usage
# Open project in Claude Code, then:

# 1. Create specification
/mcpspec.spec --name file-processor

# 2. Generate plan
/mcpspec.plan specs/file-processor/spec.md

# 3. Break down tasks
/mcpspec.tasks specs/file-processor/plan.md

# 4. Validate protocol
/mcpspec.validate specs/file-processor/

# 5. Generate implementation (optional, may use mcp-factory-server)
```

---

## 🔍 Generated Content Explained

### 1. Constitution (memory/constitution.md)

```markdown
# MCP-Spec-Kit Constitution

## Core Principles

1. **Protocol First**: Always validate against MCP specification
2. **Schema Driven**: All tools must have valid JSON Schema
3. **AI Friendly**: Design for AI agent consumption
4. **Test Before Deploy**: Always use MCP Inspector

## MCP-Specific Rules

- ✅ manifest.json is required
- ✅ Tools must have input_schema
- ✅ Resources must use URI templates
- ✅ Prompts must define arguments clearly

## Inherited from Meta-Spec

- Quality over speed
- Simplicity over complexity
- Convention over configuration

## Workflow Constraints

```
Understand → Design → Validate → Generate → Test
         ↑_________Must validate first___________|
```
```

### 2. AI Agent Guide (AGENTS.md)

```markdown
# MCP-Spec-Kit AI Agent Guide

## Available Commands

### /mcpspec.spec
Create a new MCP server specification

**Usage**:
/mcpspec.spec --name <server-name>

**Output**: specs/<server-name>/spec.md

**AI Agent should**:
- Read memory/constitution.md first
- Follow MCP protocol requirements
- Include: purpose, capabilities, tools, resources

### /mcpspec.plan
Generate development plan from spec

**Usage**:
/mcpspec.plan specs/<name>/spec.md

**Output**: 
- specs/<name>/plan.md
- specs/<name>/mcp-capabilities.md

**AI Agent should**:
- Design manifest.json structure
- Plan tool implementations
- Define resource URIs
- Consider transport protocol

### /mcpspec.validate
Validate MCP protocol compliance

**Usage**:
/mcpspec.validate specs/<name>/

**Checks**:
- ✅ manifest.json structure
- ✅ Tool schemas validity
- ✅ Resource URI templates
- ✅ Protocol compliance
```

### 3. Templates (templates/)

**specs/template.md**:
```markdown
# {{server_name}} - MCP Server Specification

## Purpose
Why does this MCP server exist?

## Capabilities
What can this server do?

## Tools
| Name | Description | Input Schema |
|------|-------------|--------------|
| ... | ... | ... |

## Resources
| URI Pattern | Description | MIME Type |
|-------------|-------------|-----------|
| ... | ... | ... |

## Prompts
| Name | Description | Arguments |
|------|-------------|-----------|
| ... | ... | ... |

## Constraints
- MCP Protocol: 1.0
- Transport: stdio/sse
- Language: Python
```

---

## 📊 Comparison with Direct Development

### Traditional Approach

```
Developer → Read MCP docs
          → Understand protocol
          → Write code
          → Manual testing
          → Debug protocol errors
Time: 2-5 days
```

### Using MCP-Spec-Kit

```
Developer/AI → Define intent (/mcpspec.spec)
             → AI generates plan (/mcpspec.plan)
             → AI validates protocol (/mcpspec.validate)
             → AI generates implementation
Time: 2-4 hours
```

---

## 🎯 Key Value

1. **Protocol Compliance**: Automatic validation, avoid protocol errors
2. **Best Practices**: Constitution ensures quality
3. **AI Friendly**: Workflow optimized for AI Agents
4. **Rapid Iteration**: Fast cycle from spec to implementation

---

## 🔗 Related Resources

- **Meta-Spec**: [README.md](../../README.md)
- **Spec-Kit**: https://github.com/github/spec-kit
- **MCP Protocol**: https://modelcontextprotocol.io/
- **mcp-factory-server**: Actual implementation may use this tool

---

## 📝 Notes

**MCP-Spec-Kit focuses on specification and design phases**:

```
MCP-Spec-Kit:
  Responsible for: Spec → Design → Validation
  Output: Specification files in specs/ directory

mcp-factory-server (optional):
  Responsible for: Generate → Deploy → Run
  Input: Specifications from MCP-Spec-Kit
  Output: Runnable MCP server
```

**Both can be used together**:

```
1. MCP-Spec-Kit generates specifications
   ↓
2. mcp-factory-server reads specifications
   ↓
3. Generates and deploys MCP server
```

---

**This example demonstrates Meta-Spec's core value: from a single YAML definition, generate a complete, AI-friendly spec-driven development system.** 🚀
